init x = 0;
init y = 0;

thread {
	1 : x = 1;
} |
thread {
	2 : y = 1;
} |
thread {
	3.1 : r1 = x;
	3.2 : r2 = y;
} |
thread {
	4.1 : r3 = y;
	4.2 : r4 = x;
}

dependency {
	1 -> 3.1;
	3.2 -> 2;
	2 -> 4.1;
	4.2 -> 1;
}
