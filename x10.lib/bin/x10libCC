#!/usr/bin/ksh

#
# (c) Copyright IBM Corporation 2007
#
# $Id: x10libCC,v 1.1 2007-06-28 17:18:31 srkodali Exp $
# Script for linking C++ programs against the library.
#

CXX="mpCC_r -q64 -qarch=pwr5"
CXXFLAGS="-qtune=pwr5 -O3 -qhot"
LINKFLAGS=
LIBNAME=x10

# will get customized to the installed prefix
X10LIB_HOME=..
X10LIB_INCLUDE=${X10LIB_HOME}/include
X10LIB_LIBPATH=${X10LIB_HOME}/lib

# display usage, if no args are provided
if [ $# -eq 0 ]
then
	echo "Usage: x10libCC [options] filename.cc [[filename.cc]...]"
	exit 1
fi

echo "${CXX} ${CXXFLAGS} -I. -I${X10LIB_INCLUDE} ${LINKFLAGS} $@ \\"
echo "		-L${X10LIB_LIBPATH} -l${LIBNAME}"
${CXX} ${CXXFLAGS} -I. -I${X10LIB_INCLUDE} ${LINKFLAGS} "$@" \
		-L${X10LIB_LIBPATH} -l${LIBNAME}
