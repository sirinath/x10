Release 2.0.4

This release includes both the C++ and Java code generation backends.

No significant language changes were made since the 2.0.3 release.

There has been a very significant improvement in the performance of
the code generated by the Java backend.  Since 2.0.3 performance of 
an X10 port of the jBYTEmark benchmarks has improved by 10x.

For details other more minor changes, please consult the
language specification included in the X10 release.

The following features described in the 2.0 language manual do not
currently work and will be fixed in the subsequent releases:

- Non-static type definitions as class or interface members
  (static type defs do work)
- Type definitions as package members (i.e., in the outermost scope of
  a compilation unit)
- AST externalization to XML
- Shared local variables
- Extern methods

Additionally, the following features described in the language
manual do not currently work with the C++ backend and will be fixed in
the subsequent releases:

- Garbage collection on AIX
- Generic virtual methods
- Exception stack traces on Cygwin and AIX

The generated C++ code requires g++ 4.2 or better to be compiled; 
we do almost all of our testing against g++ 4.3.2.  On AIX, you
may either use g++ 4.2 or better or xlC 10.01.0000.0004 or better.

Below is a summary of JIRA issues addressed for the X10 2.0.4 release.

Release Notes - X10 - Version X10 2.0.4

** New Features and Improvements
    * [XTENLANG-394] - Fully specify operator overloading rules/semantics in language manual
    * [XTENLANG-672] - "variables" in chapter 5
    * [XTENLANG-759] - Generate efficient equals methods for Structs in Java backend
    * [XTENLANG-821] - Multi-place standalone X10RT implementation
    * [XTENLANG-982] - Build shared libraries for x10rt and x10 on AIX
    * [XTENLANG-1026] - Source editor should support "shift source block left/right"
    * [XTENLANG-1102] - Redesign Java Runtime's RuntimeType infrastructure
    * [XTENLANG-1168] - Need implementation of IToggleBreakpointsHandler that talks to X10/PERCS debugger
    * [XTENLANG-1271] - Add preferences for "static calls" compiler options
    * [XTENLANG-1339] - Communication Interface for X10 Platform Configuration should handle at least IBM PE
    * [XTENLANG-1341] - Changing to use Java's array access mechanism directly
    * [XTENLANG-1342] - Changing to use Java's mechanism for assignment operators of array directly
    * [XTENLANG-1343] - Performance of Rail.copyTo(), copyFrom(), reset() and make()
    * [XTENLANG-1348] - Use static method instead of closure to implement post increment operator
    * [XTENLANG-1349] - Use == instead of equalsequals for primitives
    * [XTENLANG-1366] - Allow user defined equals method for Structs
    * [XTENLANG-1372] - Support for X10 on FreeBSD
    * [XTENLANG-1377] - X10DT builder needs to cache the jobs
    * [XTENLANG-1400] - Redundant zero clear in RailFactory.make{Val,Var}Rail(Type, int)
    * [XTENLANG-1401] - Redundant masking in {Short,Int,Long}Marshal.write
    * [XTENLANG-1410] - Remove redundant try-catch statement in apply() of function type in generated Java code

** Tasks and Sub-tasks
    * [XTENLANG-1357] - Add compiler version checking

** Bug
    * [XTENLANG-101] - X10 outline view shows synthetic constructors
    * [XTENLANG-297] - Performance of rail access
    * [XTENLANG-306] - Performance of i++ with new op= code in Java back end
    * [XTENLANG-378] - Spurious errors in "Problems view"
    * [XTENLANG-379] - Outline view presents constructor for class Foo as Foo() instead of this().
    * [XTENLANG-447] - X10DT: Update X10 language templates/idioms for 2.0
    * [XTENLANG-540] - Stacktrace lost for BadPlaceException at remote place
    * [XTENLANG-603] - Shift-tab fails if blanks replace tabs in the source
    * [XTENLANG-613] - 'self' needs to be in the manual (and the index)
    * [XTENLANG-616] - Structs can be generic, but the manual says "generic class"
    * [XTENLANG-628] - 4.12.2 doesn't say much about Strings
    * [XTENLANG-636] - Contravariance failure in generic types  with Java RTT implementation
    * [XTENLANG-673] - "specific" analysis
    * [XTENLANG-684] - Misphrasing in (Restrictions on this)
    * [XTENLANG-696] - access modifiers need to go in the index
    * [XTENLANG-702] - Manual inconsistent about initial values (in a niggling fussy way)
    * [XTENLANG-717] - ClassCastException on access of deserialized FastArray
    * [XTENLANG-739] - Manual should say that property methods don't need () in calls
    * [XTENLANG-784] - Dangling else problem should be specified.
    * [XTENLANG-788] - ClassName . super . Identifer ?
    * [XTENLANG-819] - 'root' doesn't mean 'root'.
    * [XTENLANG-825] - X10->Java doesn't do exceptions in asyncs the X10 way 
    * [XTENLANG-835] - What does "statically determinable bound" mean on p.125?
    * [XTENLANG-836] - Inconsistent description of clock operations
    * [XTENLANG-837] - "clocked variable"?
    * [XTENLANG-841] - 'clocked' description in manual needs work
    * [XTENLANG-860] - Spec bad for R(i) for region R
    * [XTENLANG-867] - C++ and Java back ends disagree on whether this compiles...
    * [XTENLANG-918] -  Null pointer exception when creating X10 local configuration
    * [XTENLANG-928] - Disallow implicit conversion from Rail to Array for method param
    * [XTENLANG-940] - empty sub directory <project_name>/bin in eclipse X10 (C++ backend) projects not created on import
    * [XTENLANG-946] - X10 run configurations use old-style options to specify number of places
    * [XTENLANG-948] - Unable to open X10 files outside the workspace
    * [XTENLANG-960] - x10 new class dialog should reflect the correct signature of x10 main method
    * [XTENLANG-1109] - Exception logged in Error Log from occurrence marking
    * [XTENLANG-1144] - The java backend boxes primitives
    * [XTENLANG-1147] - Manual needs to explain how to coerce unsigned types to and from signed ones
    * [XTENLANG-1162] - X10 builder may not always create the correct inter-compilation unit dependencies
    * [XTENLANG-1171] - Example 11.2.1 returns "null" from a method with return type T
    * [XTENLANG-1203] - X10DT can't find a superclass, even when super- and sub-class are in the same package.
    * [XTENLANG-1212] - ArrayList clear() throws NullPointerException
    * [XTENLANG-1215] - Problems remain in the Problems view after corresponding errors fixed in source code
    * [XTENLANG-1221] - Problem with ValRail.make's return value: 
    * [XTENLANG-1239] - Any.typeName() does not contain type parameter info. in Java backend
    * [XTENLANG-1240] - Instanceof for a type having parameterized type in parameters returns a wrong value in Java backend
    * [XTENLANG-1252] - at(m.home) doesn't work sometimes, even if at(m) does.
    * [XTENLANG-1258] - X10DT: NPE in X10OccurrenceIdentifier
    * [XTENLANG-1272] - Source editor blames current source file for errors in other files
    * [XTENLANG-1282] - SWT form of Platform Configuration should be scrollable
    * [XTENLANG-1285] - Saving the platform configuration after closing a dirty editor does not save it
    * [XTENLANG-1286] - X10DT fails to install a platform bundle fragment for x10.dist.host on Mac OS Snow Leopard
    * [XTENLANG-1287] - Instanceof for generic type having Rail and ValRail in parameters returns wrong value in Java backend
    * [XTENLANG-1288] - Instanceof for a type which its super class have in parameter cyclically returns wrong value in Java backend
    * [XTENLANG-1310] - X10DT: Problem view markers disappear when workbench is restarted
    * [XTENLANG-1315] - Problem with nested struct compilation
    * [XTENLANG-1317] - X10DT: Editor freezes
    * [XTENLANG-1318] - Remote compilation on linux machine fails at linking step
    * [XTENLANG-1319] - Implement String.trim()
    * [XTENLANG-1320] - X10DT: Deleting folder causes ParseController to throw NPE
    * [XTENLANG-1332] - Method mapping tables have incorrect line number information
    * [XTENLANG-1336] - Unsafe methods in x10::lang::String  Not doing proper bounds checking before accessing backing array even in debug builds
    * [XTENLANG-1344] - Type-variables are not subtypes of their bound
    * [XTENLANG-1353] - ValRail serialization is logging the reference (making ValRail immortal)
    * [XTENLANG-1359] - Closure+generic had instantiation problems
    * [XTENLANG-1368] - Compiler Should Completely Process All Requested Files
    * [XTENLANG-1371] - Rail.make[S](Int) actually zero clears a new rail, but comment says it doesn't
    * [XTENLANG-1379] - Failure when upgrading X10DT
    * [XTENLANG-1381] - Clashing use of signals between BDWGC and POE/LAPI on Power/Linux 
    * [XTENLANG-1384] - Rail.make[S](Int, Int, Rail[S]) not exist in Managed-X10
    * [XTENLANG-1385] - Wrong number of arguments are passed to the native implementation of ValRail.copyTo in Managed-X10
    * [XTENLANG-1386] - problems with project creation wizzard (c++ backend) after deleting projects
    * [XTENLANG-1387] - Random.random() not actually random
    * [XTENLANG-1390] - X10DT: Turn off spell checker in editor
    * [XTENLANG-1394] - The type of constant in the desugaring of ++x/--x should match the type of x
    * [XTENLANG-1397] - Inconsistent implementations of String.equals(null)
    * [XTENLANG-1398] - Implement Byte.toString(), parse()
    * [XTENLANG-1399] - ShortMarshal.read returns wrong value
    * [XTENLANG-1402] - Random.nextBytes() throws ArrayIndexOutOfBoundsException
    * [XTENLANG-1403] - WrappedRuntimeException shouldn't be user-visible
    * [XTENLANG-1418] - array assignments return the wrong type (Object)
    * [XTENLANG-1420] - Cancelling new C++ back-end project deletes existing project on name clash
    * [XTENLANG-1421] - Bad file descriptor while trying to read the error stream for a command execution on Mac

For the details of JIRA issues fixed in this release, see
http://jira.codehaus.org/browse/XTENLANG/fixforversion/16248

Please use the X10 JIRA to report bugs, after ensuring the problem is
not already reported:
http://jira.codehaus.org/secure/IssueNavigator.jspa?reset=true&&pid=11812&resolution=-1

