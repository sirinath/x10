
\begin{figure*}[t]
\begin{center}
\begin{tabular}{|c|}
\hline
$\typerule{
  \Gamma,P \cup \{ \hl \} \vdash \he:\hT
}{
  \Gamma,P \vdash \code{e;return l} : \Gamma(\hl)
}$
\quad \RULE{(T-return)}
\\\\

$\typerule{
\hK'=
\begin{cases}
\bot & \hK=\cooked \\
\hK & \text{otherwise} \\
\end{cases}
    \gap
  \mtype{}(\code{build},\code{C<K'>})=\ol{\code{T}}\rightarrow\code{Object}
    \gap
  \Gamma,P \vdash \ol{\he}:\ol{\code{V}}
    \gap
  \Gamma,P \vdash \ol{\code{V}} \st \ol{\code{T}}
}{
  \Gamma,P \vdash \code{new C<K>(}\ol{\he}\code{)} : \code{C<K>}
}$
\quad \RULE{(T-New)}\\

$\typerule{
}{
  \Gamma,P \vdash \hx : \Gamma(\hx)
}$
\quad \RULE{(T-Var)}
\qquad
$\typerule{
}{
  \Gamma,P \vdash \code{null} : \hT
}$
\quad \RULE{(T-null)}
\qquad
$\typerule{
}{
  \Gamma,P \vdash \hl : \Gamma(\hl)
}$
\quad \RULE{(T-Location)}\\\\

$\typerule{
  \Gamma,P \vdash \he:\code{C<K>}
    \gap
  \isCooked(\hK)
    \gap
  \ftype{}(\hf,\hC)=\code{C'}
}{
  \Gamma,P \vdash \he.\hf : \code{C'<K>}
}$
\quad \RULE{(T-Field-Access)}\\\\


$\typerule{
  \Gamma,P \vdash \he:\code{C<K>}
    \gap
  \ftype{}(\hf,\hC)=\code{C'}
    \gap
  \Gamma,P \vdash \code{e'}:\code{T'}
    \gap
  \Gamma,P \vdash \code{T'} \Pst \code{C'<K>}
    \\
  \big(\isProto(\hK) \text{~~or~~} \isVar{}(\hf,\hC)\big)
}{
  \Gamma,P \vdash \he.\hf = \code{e'} : \code{T'}
}$
\quad \RULE{(T-Field-Assignment)}\\\\

$\typerule{
  \Gamma,P \vdash \he':\code{C<K>}
    \gap
  \mtype{}(\hm,\code{C<K>})=\ol{\code{T}}\rightarrow\code{U}
    \gap
  \Gamma,P \vdash \ol{\he}:\ol{\code{V}}
    \gap
  \Gamma,P \vdash \ol{\code{V}} \st \ol{\code{T}}
    \\
  \isCooked(\hK)=\isCooked(\mproto{}(\hm,\code{C}))
}{
  \Gamma,P \vdash \he'\code{.m(}\ol{\he}\code{)} : \code{U}
}$
\quad \RULE{(T-Invoke)}\\


\hline
\end{tabular}
\end{center}
\caption{FX10 Expression Typing Rules.}
\label{Figure:expressions}
\end{figure*}
