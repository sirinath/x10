\subsection{Array types}
\label{ArrayTypeConstructors}\index{array types}

Arrays in \Xten are instances of the 
\xcd"Array" and \xcd"ValArray"
classes in the standard library.
Because of the importance of arrays in \Xten{}, the language
supports more concise syntax for accessing array elements and
performing operations on arrays.

Both array classes are subtypes of
\xcd"(Point) => T".

% The array type constructor takes as argument a type (the {\em base
% type}), an optional distribution (\Sref{XtenDistributions}), and
% optionally the keyword \xcd"value":

\begin{grammar}
  ArrayType \: \xcd"Array" \xcd"[" Type \xcd"]" ( \xcd"(" Expression \xcd")" )\opt \\
     \| \xcd"ValArray" \xcd"[" Type \xcd"]" ( \xcd"(" Expression \xcd")" )\opt
\end{grammar}

The array type \xcd"Array[T]" is the type of all
reference arrays of base type \xcd"T". Such an array can take on any
distribution, over any region. 

The array type \xcd"ValArray[T]" specifies the type of all
values arrays of base type \xcd"T".
The array elements of a \xcd"ValArray" are
all \xcd"final".\footnote{Note that the base type of a
\xcd"ValArray" can be a value class or a reference class, just as the 
type of a \xcd"final" variable can be a value class or a reference class.}

\XtenCurrVer{} also allows a distribution to be specified 
as a property initializer on the array type.
The distribution must be an expression of type
\xcd"Dist" whose
value does not depend on the value of any mutable variable.

\Xten{} also supports dependent types for arrays,
e.g.,
\xcd"Array[Double]{rank==3}" is the type of all arrays of 
\xcd"Double" of rank \xcd"3".

\subsection{Rails}

A \emph{rail} is a 1-dimensional, zero-based, local array. 
The type \xcd"Rail[T](n)" is an alias of the mutable array type
\xcd"Array[T](Region(0..n-1)->here)".
The type \xcd"ValRail[T](n)" is an alias of the mutable array type
\xcd"ValArray[T](Region(0..n-1)->here)".

\Xten{} supports shorthand syntax for rail construction
(\Sref{RailConstructors}).
