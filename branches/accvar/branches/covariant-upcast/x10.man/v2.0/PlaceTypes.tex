\subsection{Place constraints}
\label{PlaceTypes}
\label{PlaceType}
\index{place types}
\label{DepType:PlaceType}\index{placetype}

An \Xten{} computation spans multiple places
(\Sref{XtenPlaces}). Each place constains data and activities that
operate on that data.  \XtenCurrVer{} does not permit the dynamic
creation of a place. Each \Xten{} computation is initiated with a
fixed number of places, as determined by a configuration parameter.
In this section we discuss how the programmer may supply place type
information, thereby allowing the compiler to check data locality,
i.e., that data items being accessed in an atomic section are local.

\begin{grammar}
PlaceConstraint     \: \xcd"!" Place\opt \\
Place              \:   Expression \\
\end{grammar}

Because of the importance of places in the \Xten{} design, special
syntactic support is provided for constrained types involving places.

All \Xten{} classes extend the class
\xcd"x10.lang.Object", which defines a property
\xcd"home" of type
\xcd"Place".

If a constrained reference type \xcd"T" has an \xcd"!p" suffix,
the constraint for \xcd"T" is implicitly assumed to contain the clause
\xcd"self.home==p"; that is,
\xcd"C{c}!p" is equivalent to \xcd"C{self.home==p && c}".

The place \xcd"p" may be ommitted. It defaults to \xcd"this" 
for types in field declarations, and to \xcd"here" elsewhere.


% The place specifier \xcd"any" specifies that the object can be
% located anywhere.  Thus, the location is unconstrained; that is,
% \xcd"C{c}!any" is equivalent to \xcd"C{c}".

% XXX ARRAY
%The place specifier \xcd"current" on an array base type
%specifies that an object with that type at point \xcd"p"
%in the array 
%is located at \xcd"dist(p)".  The \xcd"current" specifier can be
%used only with array types.


