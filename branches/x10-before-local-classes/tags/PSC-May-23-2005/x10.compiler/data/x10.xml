<?xml version='1.0' ?>
<x10_pem_events>

<event name="X10::Event::ClockAdvance" description="Record a clock advancement">
   <layerId value="X10" />
   <classId value="Event" />
   <specifier value="ClockAdvance" />
   <fields>
      <field name="systemTime"  type="uint64" description="system time in milliseconds" />
      <field name="virtualTime" type="uint64" description="virtual time in milliseconds" />
      <field name="pid"         type="uint32" description="place identifier (of place triggering advance)" />
      <field name="clockid"     type="uint32" description="identifier of the clock instance" />
   </fields>
   <k42Format value='%0[%lld]:%1[%lld] pid=%2[%d] cid=%3[%d]' />
</event>

<event name="X10::Event::ActivityStart" description="Record an activity starting">
   <layerId value="X10" />
   <classId value="Event" />
   <specifier value="ActivityStart" />
   <fields>
      <field name="systemTime"  type="uint64" description="system time in milliseconds" />
      <field name="virtualTime" type="uint64" description="virtual time in milliseconds" />
      <field name="said"        type="uint32" description="source activity identifier (unique with tpid)" />
      <field name="spid"        type="uint32" description="source place identifier, place of the caller" />
      <field name="aid"        type="uint32" description="target activity identifier (unique with tpid)" />
      <field name="pid"        type="uint32" description="target place identifier, place of the callee where the activity runs" />
      <field name="load"        type="uint32" description="new load at this place" />
      <field name="sasid"       type="uint32" description="static activity (source) identifier, identifies (static) Activity code that is being run, not the instance (currently always 0)" />
   </fields>
<!--   <interval type='START' name='ActivityInterval' pair='X10::Event::ActivityEnd' match='aid,pid' /> -->
   <k42Format value='%0[%lld]:%1[%lld] said=%2[%d] spid=%3[%d] aid=%4[%d] pid=%5[%d] load=%6[%d]' />
</event>

<event name="X10::Event::ActivityEnd" description="Record an activity terminating">
   <layerId value="X10" />
   <classId value="Event" />
   <specifier value="ActivityEnd" />
   <fields>
      <field name="systemTime"  type="uint64" description="system time in milliseconds" />
      <field name="virtualTime" type="uint64" description="virtual time in milliseconds" />
      <field name="aid"         type="uint32" description="activity id" />
      <field name="pid"         type="uint32" description="place identifier (of place where activity was running)" />
      <field name="load"        type="uint32" description="new load at this place" />
      <field name="sasid"       type="uint32" description="static activity (source) identifier, identifies (static) Activity code that is being run, not the instance (currently always 0)" />
   </fields>
<!--   <interval type='END' name='ActivityInterval' pair='X10::Event::ActivityStart' match='aid,pid' />  -->
   <k42Format value='%0[%lld]:%1[%lld] aid=%2[%d] pid=%3[%d]  load=%4[%d]' />
</event>

<event name="X10::Event::ActivityBlock" description="Record an activity blocking">
   <layerId value="X10" />
   <classId value="Event" />
   <specifier value="ActivityBlock" />
   <fields>
      <field name="systemTime"  type="uint64" description="system time in milliseconds" />
      <field name="virtualTime" type="uint64" description="virtual time in milliseconds" />
      <field name="aid"         type="uint32" description="activity id" />
      <field name="pid"         type="uint32" description="place identifier (of place where activity runs)" />
      <field name="load"        type="uint32" description="new load at this place" />
      <field name="cause"       type="uint32" description="cause of the block (0 = atomic, 1 = force, 2 = clock)" />
      <field name="causeinfo"   type="uint32" description="cause info: 0 for atomic, remote place ID for force, clock id for clock" />
      <field name="causeinfo2"  type="uint32" description="additional cause info: remote activity ID for force" />
   </fields>
   <k42Format value='%0[%lld]:%1[%lld] aid=%2[%d] pid=%3[%d] load=%4[%d] cause=%5[%d] causeinfo=%6[%d] causeinfo2=%7[%d]' />
</event>

<event name="X10::Event::ActivityUnblock" description="Record an activity unblocking">
   <layerId value="X10" />
   <classId value="Event" />
   <specifier value="ActivityUnblock" />
   <fields>
      <field name="systemTime"  type="uint64" description="system time in milliseconds" />
      <field name="virtualTime" type="uint64" description="virtual time in milliseconds" />
      <field name="aid"         type="uint32" description="activity id" />
      <field name="pid"         type="uint32" description="place identifier (of place where activity runs)" />
      <field name="load"        type="uint32" description="new load at this place" />
      <field name="cause"       type="uint32" description="cause of the block (0 = atomic, 1 = force, 2 = clock)" />
      <field name="causeinfo"   type="uint32" description="cause info: 0 for atomic, remote place ID for force, clock id for clock" />
      <field name="causeinfo2"  type="uint32" description="additional cause info: remote activity ID for force" />
   </fields>
   <k42Format value='%0[%lld]:%1[%lld] aid=%2[%d] pid=%3[%d] load=%4[%d] cause=%5[%d] causeinfo=%6[%d] causeinfo2=%7[%d]' />
</event>

<event name="X10::Sampler::Data" description="Record sample data for all places">
   <layerId value="X10" />
   <classId value="Sampler" />
   <specifier value="Data" />
   <fields>
      <field name="systemTime"     type="uint64" description="system time in milliseconds" />
      <field name="virtualTime"    type="uint64" description="virtual time in milliseconds" />
      <field name="numberOfPlaces" type="uint32" description="number of places" />
      <field name="sampleTime"     type="uint32" description="estimated number of milliseconds between samples (systemTime))" />
      <field name="tqs"                  type="list" size="numberOfPlaces" eltType="uint32" description="number of threads not assigned" />
      <field name="load"                 type="list" size="numberOfPlaces" eltType="uint32" description="load values" />
      <field name="atomic_entry"         type="list" size="numberOfPlaces" eltType="uint32" description="number of entries into atomic" />
      <field name="atomic_exit"          type="list" size="numberOfPlaces" eltType="uint32" description="number of exits from atomic" />
      <field name="block_entry"          type="list" size="numberOfPlaces" eltType="uint32" description="number of activities blocked" />
      <field name="block_exit"           type="list" size="numberOfPlaces" eltType="uint32" description="number of activities unblocked" />
      <field name="activity_start"       type="list" size="numberOfPlaces" eltType="uint32" description="number of activities started" />
      <field name="activity_stop"        type="list" size="numberOfPlaces" eltType="uint32" description="number of activities completed" />
      <field name="atomic_delta_entry"   type="list" size="numberOfPlaces" eltType="uint32" description="number of entries into atomic (change)" />
      <field name="atomic_delta_exit"    type="list" size="numberOfPlaces" eltType="uint32" description="number of exits from atomic (change)" />
      <field name="block_delta_entry"    type="list" size="numberOfPlaces" eltType="uint32" description="number of activities blocked (change)" />
      <field name="block_delta_exit"     type="list" size="numberOfPlaces" eltType="uint32" description="number of activities unblocked (change)" />
      <field name="activity_delta_start" type="list" size="numberOfPlaces" eltType="uint32" description="number of activities started (change)" />
      <field name="activity_delta_stop"  type="list" size="numberOfPlaces" eltType="uint32" description="number of activities completed (change)" />
   </fields>
   <k42Format value='%0[%lld]:%1[%lld] sampleTime=%3[%d] n_places=%2[%d]' />
</event>

</x10_pem_events>
