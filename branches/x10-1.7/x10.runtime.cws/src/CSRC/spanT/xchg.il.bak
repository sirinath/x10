#pragma mc_func Xchg { \
"7ca01828"             /*   lwarx 0,0,1 */\
"7c80192d"              /*   stwcx. 2,0,1*/\
"40a2fff8"              /*   bne- here   */\
"38650000"		/*   addi 3, 1, 0*/\
"4c00012c"             /*    isync */\
}
#pragma reg_killed_by Xchg gr0, gr3, gr4, gr5, cr0

