/*
 *
 * (C) Copyright IBM Corporation 2006
 *
 *  This file is part of X10 Test.
 *
 */
//Generated automatically by
//m4 NullableObject3.m4 > NullableObject3.x10
//Do not edit
import harness.x10Test;;

/**
 * Class cast test for nullable types.
 *
 * In X10, nullable<Object>is a proper supertype of Object
 * (the latter does not include null, the former does).
 *
 * Tests miscellaneous classcast behavior with nullable types.
 *
 * @author kemal
 * 1/2005
 */
public class NullableObject3 extends x10Test {

	public def run(): boolean = {
		var x: x10.lang.Object = new x10.lang.Object();
		var y: nullable<x10.lang.Object> = null;
		var castable: boolean = true;

		x = new boxedInt(1);
		// x can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// x can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// x can be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// x can be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// x can not be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// x can not be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		x = new boxedLong(1);
		// x can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// x can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// x can not be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// x can not be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// x can be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// x can be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		x = new x10.lang.Object();
		// x can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// x can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// x can not be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// x can not be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// x can not be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// x can not be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)x;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		y = null;
		// y can not be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// y can be cast to (nullable<x10>.lang.Object)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can not be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// y can be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can not be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// y can be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		y = new boxedInt(1);
		// y can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can not be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// y can not be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		y = new boxedLong(1);
		// y can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can not be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// y can not be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// y can be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		y = new x10.lang.Object();
		// y can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// y can not be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// y can not be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// y can not be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// y can not be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)y;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		var i: boxedInt = new boxedInt(1);
		// i can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)i;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// i can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)i;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// i can be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)i;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// i can be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)i;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		var j: nullable<boxedInt> = null;
		// j can not be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)j;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// j can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)j;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// j can not be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)j;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// j can be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)j;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// (nullable<x10.lang.Object>)j can be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)(nullable<x10.lang.Object>)j;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		j = new boxedInt(1);
		// j can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)j;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// j can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)j;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// j can be cast to (boxedInt)
		castable = true;
		try {
			var __y: boxedInt = (boxedInt)j;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// j can be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)j;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		var l: boxedLong = new boxedLong(1);
		// l can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)l;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// l can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)l;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// l can be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)l;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// l can be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)l;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		var m: nullable<boxedLong> = null;
		// m can not be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)m;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// m can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)m;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// (nullable<x10.lang.Object>)m can be cast to (nullable<boxedInt>)
		castable = true;
		try {
			var __y: nullable<boxedInt> = (nullable<boxedInt>)(nullable<x10.lang.Object>)m;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// m can not be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)m;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (castable) throw new Error();

		// m can be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)m;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		m = new boxedLong(1);
		// m can be cast to (x10.lang.Object)
		castable = true;
		try {
			var __y: x10.lang.Object = (x10.lang.Object)m;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// m can be cast to (nullable<x10.lang.Object>)
		castable = true;
		try {
			var __y: nullable<x10.lang.Object> = (nullable<x10.lang.Object>)m;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// m can be cast to (boxedLong)
		castable = true;
		try {
			var __y: boxedLong = (boxedLong)m;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		// m can be cast to (nullable<boxedLong>)
		castable = true;
		try {
			var __y: nullable<boxedLong> = (nullable<boxedLong>)m;
			X.use(__y);
		} catch (var e: ClassCastException) {
			castable = false;
		}
		if (!castable) throw new Error();

		return true;
	}

	public static def main(var args: Rail[String]): void = {
		new NullableObject3().execute();
	}

	/**
	 * Helper class -- boxed int
	 */
	static class boxedInt {
		var val: int;
		def this(var x: int): boxedInt = { val = x; }
	}

	/**
	 * Helper class -- boxed long
	 */
	static class boxedLong {
		var val: long;
		def this(var x: long): boxedLong = { val = x; }
	}

	static class X {
		static def use(var y: nullable<java.lang.Object>): void = { }
	}
}
