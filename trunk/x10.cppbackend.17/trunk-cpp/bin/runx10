#!/bin/sh
# Use to run an X10 program in a single place with the sockets transport
# Can also be used to invoke valgrind, gdb, etc

cat <<END >/dev/null
export MP_MSG_API=lapi 
export MP_TASK_AFFINITY=MCM 
export MP_EUIDEVICE=sn_all 
export MP_ADAPTER_USE=shared # dedicated
export MP_EUILIB=ip # us 
export MP_CPU_USE=unique 
export MP_CSS_INTERRUPT=no 
export MP_USE_BULK_XFER=yes 
export MP_EAGER_LIMIT=65536 
export MP_PULSE=0 
export MP_POLLING_INTERVAL=2000000000 
export MP_SHARED_MEMORY=yes 
export MP_SINGLE_THREAD=yes 
export MP_WAIT_MODE=poll 
END

MP_CHILD=0 MP_PROCS=1 PGASRT_HOME_NODE=127.0.0.1 PGAS_NTHREADS=1 UPC_NTHREADS=1 "$@"
