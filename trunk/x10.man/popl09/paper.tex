\documentclass[preprint,nocopyrightspace,9pt]{sigplanconf}
%\documentclass{llncs}

\newif\iflncs
\lncsfalse

\usepackage{times-lite}
\usepackage{mathptm}
\usepackage{txtt}
\usepackage{stmaryrd}
\usepackage{code}
\usepackage{bcprules}
%\usepackage{ttquot}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{afterpage}
\usepackage{balance}
\usepackage{floatflt}
\usepackage{defs}
\usepackage{utils}
\usepackage[pdftex]{graphicx}
\usepackage{xspace}
\usepackage{ifpdf}
\usepackage{listings}
\usepackage{x10}

  %\hyphenpenalty=1000

\def\val{\mbox{\tt val}}
\def\klass{\mbox{\tt class}}
\def\var{\mbox{\tt var}}
\def\self{\mbox{\tt self}}
\def\this{\mbox{\tt this}}
\def\new{\mbox{\tt new}}
\def\extends{\unlhd}
\def\return{\mbox{\tt return}}
\def\true{\mbox{\tt true}}
\def\as{\mbox{\tt as}}
\def\fields{\mbox{\tt fields}}
\def\type{\mbox{\tt type}}
\def\mtype{\mbox{\tt mtype}}
\def\field{\mbox{\tt field}}
\def\Xten{{\sf X10}}
\def\GXten{{\sf Gen X10}}
\def\CFJ{{\sf CFJ}}
\def\FJ{{\sf FJ}}
\def\GFX{{\sf FX(G)}}
\def\Java{{\sf Java}}

\newif\ifsemantics
%\semanticsfalse
\semanticstrue

\hfuzz=1pt

\pagestyle{plain}


\ifpdf
\setlength{\pdfpagewidth}{8.5in}
\setlength{\pdfpageheight}{11in}
\fi

\newcommand\gxx{FX\xspace}
\newcommand\csharp{C$^{\sharp}$\xspace}
\newcommand\hmx{$\mathrm{HM}(X)$\xspace}
\newcommand\clpx{$\mathrm{CLP}(X)$\xspace}

\newcommand\xbar[1]{\ensuremath{\bar{\Xcd{#1}}}}
\newcommand\tbar[1]{\ensuremath{\bar{\tt {#1}}}}
\newcommand\exc[2]{\ensuremath{\exists}#1.~#2}
\newcommand\exty[3]{\ensuremath{\exists}#1\ty#2.~#3}
\newcommand\extyty[5]{\ensuremath{\exists}#1\ty#2,#3\ty#4.~#5}
\newcommand\extytyty[7]{\ensuremath{\exists}#1\ty#2,#3\ty#4,#5\ty#6.~#7}
\def\has{\mbox{\tt has}}
\def\inv{\mathit{inv}}

\def\FGJ{{\sf FGJ}}
\def\FX{{\sf FX}}
\def\FXZ{{\sf FX($\cdot$)}}
\def\FXG{{\sf FX($\cal O$)}}
\def\FXD{{\sf FX($\cal A$)}}
\def\FXGD{{\sf FX(${\cal O},{\cal A}$)}}
\def\has{\mbox{\tt has}}
\def\TConstr{\mbox{\sc T-Constr}}
\def\TInv{\mbox{\sc T-Inv}}
\def\TVar{\mbox{\sc T-Var}}
\def\TField{\mbox{\sc T-Field}}
\def\TInvk{\mbox{\sc T-Invk}}
\def\TNew{\mbox{\sc T-New}}
\def\TCast{\mbox{\sc T-Cast}}
\def\TUCast{\mbox{\sc T-UCast}}
\def\TDCast{\mbox{\sc T-DCast}}
\def\TSCast{\mbox{\sc T-SCast}}

\def\RField{\mbox{\sc R-Field}}
\def\RCField{\mbox{\sc RC-Field}}
\def\RInvk{\mbox{\sc R-Invk}}
\def\RCInvkRecv{\mbox{\sc RC-Invk-Recv}}
\def\RCInvkArg{\mbox{\sc RC-Invk-Arg}}
\def\RCNewArg{\mbox{\sc RC-New-Arg}}
\def\RCast{\mbox{\sc R-Cast}}
\def\RCCast{\mbox{\sc RC-Cast}}


% \input{../../../../vj/res/pagesizes}
% \input{../../../../vj/res/vijay-macros}
\newcommand\alt{\bnf}

\newcommand\Implies{\Rightarrow}

\iflncs
\else
\newtheorem{example}{Example}[section]
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newenvironment{proof}{
\trivlist
\item[\hskip \labelsep \textsc{Proof.}]
\selectfont
\ignorespaces}{$\Box$}

%\newtheorem{proof}[theorem]{Proof}
\fi

\begin{document}

\title{Genericity through Constrained Types}

\iflncs

\author{
Nathaniel Nystrom\inst{1}
\and
Igor Peshansky\inst{1}
\and
Vijay Saraswat\inst{1}
}

\institute{IBM T.~J. Watson Research~Center,
P.O.~Box~704, Yorktown~Heights NY 10598 USA,
\email{\{nystrom,igorp,vsaraswa\}@us.ibm.com}}

\else

\authorinfo{Nathaniel Nystrom\titlenote{IBM T.~J. Watson Research
Center, P.O. Box 704, Yorktown Heights NY 10598 USA}}{}
  {nystrom@us.ibm.com}
\authorinfo{Igor Peshansky$^{\;*}$}{}
  {igorp@us.ibm.com}
\authorinfo{Vijay Saraswat$^{\;*}$}{}
  {vsaraswa@us.ibm.com}

% \conferenceinfo{POPL'08}{XXX}
% \copyrightyear{2008}
% \copyrightdata{[to be supplied]}

\fi

\maketitle

\begin{abstract}
\input{abstract}
\end{abstract}


\section{Introduction}
\label{sec:intro}
%\input{introduction}
\input{vj-intro}

\section{X10 language overview}
\label{sec:lang}
\input{x10-overview}

\section{Translation}
\label{sec:translation}
\label{sec:impl}
\input{translation.tex}

\eat{\input{constraint-solver.tex}}

\section{Semantics}
\label{sec:semantics}
\input{quad-semantics}

\section{Discussion and related work}
\label{sec:discussion}
\input{discussion}

\subsection{Related work}
\label{sec:related}
\input{related}

\section{Conclusions}
\label{sec:conclusions}

We have presented a constraint-based framework \FX{} for type-
and value-dependent types in an object-oriented language.
%
The framework captures the essence of object-oriented type
systems in a constraint system 
$\cal O$.  Instantiations of the framework augment the core
object-oriented features with generic types and dependent types.
%
The use of constraints on type properties allows the design to
capture many features of generics in object-oriented languages
and then to extend these features with more
expressive power.  We have proved the type system sound.

The type system \FXGD{} formalizes the semantics of the \Xten{}
programming language.  The design admits an efficient
implementation for generics and dependent types in \Xten{}.
To improve the expressiveness of \Xten{}, we plan to implement
a type inference algorithm that infers constraints over types
and values, and to support user-defined constraints.

\section*{Acknowledgments} 

The authors thank Bob Blainey, 
Doug Lea, Jens Palsberg, Lex Spoon, and Olivier Tardieu
for valuable feedback on versions of the language.
We thank
Andrew Myers and
Michael Clarkson for providing us with their implementation of
PolyJ, on which our implementation was based, and for many
discussions over the years about parametrized types in Java.

\bibliographystyle{plain}
\bibliography{master}

% \appendix
% \onecolumn

% \section{An extended example}
% \input{longex}

\end{document}
