

\subsection{Default values design}
every type has a default value.
(when reading a val field, you may get the default value or its final value.)

\subsection{proto design}
A proto modifier for locals
allowed cyclic immutable objects.

\subsection{Hardhat design}

Discuss why we didn't allow aliasing of \this (to avoid an alias analysis).



\subsection{Alternative property design}

Property design (what would happen if we use val fields instead of properties.)

Fields are partition into two: property fields and normal fields. Property fields are assigned together before any other field.
\begin{lstlisting}
class A(x:Int) {
  val y:Int{self!=x};
  val z = x*x;
}
\end{lstlisting}
Vs.
Fields are ordered, and all ctors need to assign in the same order as the fields declaration.
\begin{lstlisting}
class A {
  val x:Int;
  val y:Int{self!=x};
  val z = x*x;
}
\end{lstlisting}
